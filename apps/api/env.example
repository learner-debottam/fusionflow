# FusionFlow API Environment Configuration

# Application Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# Database Configuration
DATABASE_URL=postgresql://fusionflow:fusionflow@localhost:5432/fusionflow
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/fusionflow_test

# Redis Configuration
REDIS_URL=redis://:fusionflow@localhost:6379/0
TEST_REDIS_URL=redis://:test@localhost:6379/1

# Kafka Configuration
KAFKA_BROKERS=localhost:9092
TEST_KAFKA_BROKERS=localhost:9092

# ClickHouse Configuration
CLICKHOUSE_URL=http://localhost:8123
TEST_CLICKHOUSE_URL=http://localhost:8123

# OpenTelemetry Configuration
OTEL_SERVICE_NAME=fusionflow-api
OTEL_SERVICE_VERSION=0.1.0
OTEL_TRACE_EXPORTER=otlp
OTEL_METRIC_EXPORTER=prometheus
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SAMPLING_RATE=1.0
OTEL_AUTO_INSTRUMENTATION=true
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true
PROMETHEUS_PORT=9464

# Authentication Configuration
JWT_SECRET=your-secret-key-here
JWT_PUBLIC_KEY=your-public-key-here
KEYCLOAK_JWKS_URI=http://localhost:8080/realms/master/protocol/openid-connect/certs
KEYCLOAK_ISSUER=http://localhost:8080/realms/master
KEYCLOAK_AUDIENCE=fusionflow-api

# CORS Configuration
CORS_ORIGIN=http://localhost:3001

# Rate Limiting Configuration
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=15 minutes
RATE_LIMIT_ALLOWLIST=

# Feature Flags Configuration
FEATURE_API_V2=true
FEATURE_ADVANCED_AUTH=true
FEATURE_REAL_TIME_EXECUTIONS=true
FEATURE_FLOW_SIMULATION=true
FEATURE_ADVANCED_CONNECTORS=true
FEATURE_AUDIT_LOGGING=true
FEATURE_PERFORMANCE_MONITORING=true
FEATURE_MULTI_TENANCY=false
FEATURE_EDGE_COMPUTING=false
FEATURE_AI_ASSIST=false

# Build Configuration
BUILD_ID=dev
GIT_COMMIT=unknown

# MinIO Configuration (S3-compatible)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=fusionflow
MINIO_SECRET_KEY=fusionflow123
MINIO_BUCKET=fusionflow-data
MINIO_REGION=us-east-1

# Monitoring Configuration
METRICS_ENABLED=true
TRACING_ENABLED=true
LOGGING_ENABLED=true

# Security Configuration
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true

# Performance Configuration
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024
COMPRESSION_LEVEL=6

# File Upload Configuration
MAX_FILE_SIZE=10485760
MAX_FILES_PER_REQUEST=10
UPLOAD_PATH=./uploads

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CHECK_PERIOD=600

# Queue Configuration
QUEUE_MAX_RETRIES=3
QUEUE_TIMEOUT=30000
QUEUE_BATCH_SIZE=100

# External Services Configuration
EXTERNAL_API_TIMEOUT=30000
EXTERNAL_API_RETRIES=3
EXTERNAL_API_BACKOFF=1000

# Development Configuration
DEBUG_ENABLED=false
HOT_RELOAD=true
SOURCE_MAPS=true

# Testing Configuration
TEST_TIMEOUT=10000
TEST_COVERAGE_THRESHOLD=80
TEST_WATCH=false
